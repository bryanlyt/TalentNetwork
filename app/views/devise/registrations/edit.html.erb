<%= devise_error_messages! %>
<div class="col-md-6 col-md-offset-3">
  <h2>
    Edit Profile
  </h2>
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>

    <div class="form-group">
      <%= f.label :first_name %>
      <%= f.text_field :first_name, autofocus: true, class: 'form-control' %>
    </div>
    <div class="form-group">
      <%= f.label :last_name %>
      <%= f.text_field :last_name, class: 'form-control' %>
    </div>
    <div class="form-group">
      <%= f.label :email %>
      <%= f.email_field :email, class: 'form-control' %>
    </div>   
    <div class="form-group">
      <%= f.label :tags %>
      <%= f.select :tags, Tag.pluck(:name), { selected: resource.tags.pluck(:name) }, class: 'form-control', multiple: true %>
    </div>
    <% unless resource.from_facebook? %>
      <div class="form-group">
        <%= f.label :current_password %>
        <%= f.password_field :current_password, autocomplete: "off", class: 'form-control' %>
      </div>

      <hr>
      <legend>Additional Information</legend>
      <div class="form-group">
        <%= f.label :phone %>
        <%= f.telephone_field :phone, class: 'form-control' %>
      </div> 
      <div class="form-group">
        <%= f.label :website %>
        <%= f.url_field :website, placeholder: 'http://', class: 'form-control' %>
      </div> 
      <div class="form-group">
        <%= f.label :gender %><br />
        <%= f.radio_button :gender, 'Male' %> Male<br />
        <%= f.radio_button :gender, 'Female' %> Female<br />
        <%= f.radio_button :gender, 'Others' %> Others<br />    
      </div> 
      <div class="form-group">
        <%= f.label :description %>
        <%= f.text_area :description, class: 'form-control' %>
      </div> 
      <div class="form-group">
        <%= f.label :city %>
        <%= f.text_field :city, class: 'form-control' %>
      </div> 
      <div class="form-group">
        <%= f.label :country %>
        <%= f.text_field :country, class: 'form-control' %>
      </div> 
      <div class="form-group">
        <%= f.label :date_of_birth %>
        <%= f.date_field :date_of_birth, class: 'form-control' %>
      </div>       
      <div class="form-group">
        <%= f.label :upload_profile_photo %>
        <%= f.file_field :avatar %><br>
      </div>

      <hr>
      <legend>Change Your Password</legend>
      <div class="form-group">
        <%= f.label 'New Password' %>
        <%= f.password_field :password, autocomplete: "off", placeholder: 'leave blank if unchanged', class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= f.label 'New Password Confirmation' %>
        <%= f.password_field :password_confirmation, autocomplete: "off", placeholder: 'leave blank if unchanged', class: 'form-control' %>
      </div>      
    <% end %>
    <br>
    <%= f.submit 'Update Account', class: 'btn btn-primary' %>
    <%= link_to 'Delete Account Forever', registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete, class: 'btn btn-danger' %>
    <br><br><br>
  <% end %>
</div>
<% content_for :javascript do %>
  <%= javascript_include_tag select2_javascript, 
    'accounts/edit',
    'data-turbolinks-track' => true %>

<% end %>
<% content_for :stylesheets do %>
  <%= stylesheet_link_tag select2_stylesheet,
    'data-turbolinks-track' => true %>

<% end %>
